<h2 id="geoservice-api">GeoService API</h2>

<p><code>Path: ./app/controllers/geo_service_ntroller.rb</code></p>

<ul>
  <li>Get address
<code>sh
Method: get_address
Route: GET http://localhost:3000/geoservice/get_address
Params: locationLat, locationLng
Success:
{
  "success": true,
  "result": "Xã Giáp Đắt, Huyện Đà Bắc, Hòa Bình"
}
</code></li>
  <li>
    <p>Get speed limit
<code>sh
Method: get_speed_limit
Route: GET http://localhost:3000/geoservice/get_speed_limit
Params: locationLat, locationLng
Success:
{
  "success": true,
  "road_name": "Đường vào Thuần Mỹ",
  "speed_limit" :30
}
</code></p>
  </li>
  <li>
    <p>Speed report
<code>sh
Method: speed_report
Route: POST http://localhost:3000/geoservice/speed_report
Params: locationLat, locationLng, speed
Success:
{
  "success": true,
  "message": "Báo cáo thành công, cảm ơn bạn"
}
</code></p>
  </li>
  <li>Filter Address
```sh
Method: filter_address
Route: GET http://goong.io/geoservice/filter_address
Params:
—&gt; Tier 1 address: Province, City, District, Commune: tier1
—&gt; Tier 2 address: address, house number, place: tier2 &amp; (province_id || district_id || commune_id) (Get from tier1 result, get the strongest params available: Commune &gt; District &gt; Province)
Success:
http://goong.io/geoservice/filter_address?tier1=thanh hoa
[
  {
      “_id”: 401,
      “district_id”: null,
      “lng_lat”: {
          “lng”: 105.777746698,
          “lat”: 19.8102073580001
      },
      “name_en”: “thanh hoa”,
      “name_vn”: “Thanh Hóa”,
      “province_id”: null
  },
  {
      “_id”: 80111,
      “district_id”: null,
      “lng_lat”: {
          “lng”: 106.181309681,
          “lat”: 10.656036139
      },
      “name_en”: “thanh hoa”,
      “name_vn”: “Huyện Thạnh Hóa”,
      “province_id”: 801,
      “province_name”: “Long An”
  },
  {
      “_id”: 40101,
      “district_id”: null,
      “lng_lat”: {
          “lng”: 105.781267908,
          “lat”: 19.816956878
      },
      “name_en”: “thanh hoa”,
      “name_vn”: “Thành phố Thanh Hóa”,
      “province_id”: 401,
      “province_name”: “Thanh Hóa”
  },
  {
      “_id”: 70911,
      “district_id”: null,
      “lng_lat”: {
          “lng”: 106.130158864,
          “lat”: 11.288101413
      },
      “name_en”: “hoa thanh”,
      “name_vn”: “Huyện Hòa Thành”,
      “province_id”: 709,
      “province_name”: “Tây Ninh”
  },
  {
      “_id”: 4070305,
      “district_id”: 40703,
      “district_name”: “Huyện Tuyên Hóa”,
      “lng_lat”: {
          “lng”: 105.841942958,
          “lat”: 17.9829163320001
      },
      “name_en”: “thanh hoa”,
      “name_vn”: “Xã Thanh Hóa”,
      “province_id”: 407,
      “province_name”: “Quảng Bình”
  },
  {
      “_id”: 4070503,
      “district_id”: 40705,
      “district_name”: “Huyện Minh Hóa”,
      “lng_lat”: {
          “lng”: 105.831761988,
          “lat”: 17.8899632790001
      },
      “name_en”: “hoa thanh”,
      “name_vn”: “Xã Hóa Thanh”,
      “province_id”: 407,
      “province_name”: “Quảng Bình”
  },
  {
      “_id”: 4033109,
      “district_id”: 40331,
      “district_name”: “Huyện Thanh Chương”,
      “lng_lat”: {
          “lng”: 105.238767852,
          “lat”: 18.8403404900001
      },
      “name_en”: “thanh hoa”,
      “name_vn”: “Xã Thanh Hòa”,
      “province_id”: 403,
      “province_name”: “Nghệ An”
  },
  {
      “_id”: 4032329,
      “district_id”: 40323,
      “district_name”: “Huyện Yên Thành”,
      “lng_lat”: {
          “lng”: 105.494026942,
          “lat”: 19.0021521190001
      },
      “name_en”: “hoa thanh”,
      “name_vn”: “Xã Hoa Thành”,
      “province_id”: 403,
      “province_name”: “Nghệ An”
  },
  {
      “_id”: 5091225,
      “district_id”: 50912,
      “district_name”: “Huyện Đông Hòa”,
      “lng_lat”: {
          “lng”: 109.300807059,
          “lat”: 13.0334629500001
      },
      “name_en”: “hoa thanh”,
      “name_vn”: “Xã Hòa Thành”,
      “province_id”: 509,
      “province_name”: “Phú Yên”
  },
  {
      “_id”: 6052507,
      “district_id”: 60525,
      “district_name”: “Huyện Krông Bông”,
      “lng_lat”: {
          “lng”: 108.301682452,
          “lat”: 12.5656724990001
      },
      “name_en”: “hoa thanh”,
      “name_vn”: “Xã Hòa Thành”,
      “province_id”: 605,
      “province_name”: “Đắk Lắk”
  }
]</li>
</ul>

<p>http://goong.io/geoservice/filter_address?tier2=nguyen trai&amp;district_id=10111
[
    {
        “_id”: 11135,
        “commune_id”: 1011111,
        “commune_name”: “Phường Thanh Xuân Trung”,
        “district_id”: 10111,
        “district_name”: “Quận Thanh Xuân”,
        “lng_lat”: {
            “lng”: 105.80669061,
            “lat”: 20.99409436
        },
        “name_en”: “nguyen trai”,
        “name_vn”: “Nguyễn Trãi”,
        “province_id”: 101,
        “province_name”: “Hà Nội”
    },
    {
        “_id”: 58422,
        “commune_id”: 1011103,
        “commune_name”: “Phường Khương Trung”,
        “district_id”: 10111,
        “district_name”: “Quận Thanh Xuân”,
        “lng_lat”: {
            “lng”: 105.81959702,
            “lat”: 21.00235638
        },
        “name_en”: “47 nguyen trai”,
        “name_vn”: “47 Nguyễn Trãi”,
        “province_id”: 101,
        “province_name”: “Hà Nội”
    },
    {
        “_id”: 59848,
        “commune_id”: 1011111,
        “commune_name”: “Phường Thanh Xuân Trung”,
        “district_id”: 10111,
        “district_name”: “Quận Thanh Xuân”,
        “lng_lat”: {
            “lng”: 105.80378462,
            “lat”: 20.99215394
        },
        “name_en”: “506 nguyen trai”,
        “name_vn”: “506 Nguyễn Trãi”,
        “province_id”: 101,
        “province_name”: “Hà Nội”
    },
    {
        “_id”: 59849,
        “commune_id”: 1011111,
        “commune_name”: “Phường Thanh Xuân Trung”,
        “district_id”: 10111,
        “district_name”: “Quận Thanh Xuân”,
        “lng_lat”: {
            “lng”: 105.80372551,
            “lat”: 20.99215009
        },
        “name_en”: “508 nguyen trai”,
        “name_vn”: “508 Nguyễn Trãi”,
        “province_id”: 101,
        “province_name”: “Hà Nội”
    },
    {
        “_id”: 59850,
        “commune_id”: 1011103,
        “commune_name”: “Phường Khương Trung”,
        “district_id”: 10111,
        “district_name”: “Quận Thanh Xuân”,
        “lng_lat”: {
            “lng”: 105.8199637,
            “lat”: 21.002612
        },
        “name_en”: “23 nguyen trai”,
        “name_vn”: “23 Nguyễn Trãi”,
        “province_id”: 101,
        “province_name”: “Hà Nội”
    },
    {
        “_id”: 60106,
        “commune_id”: 1011103,
        “commune_name”: “Phường Khương Trung”,
        “district_id”: 10111,
        “district_name”: “Quận Thanh Xuân”,
        “lng_lat”: {
            “lng”: 105.81951221,
            “lat”: 21.00228863
        },
        “name_en”: “49a nguyen trai”,
        “name_vn”: “49A Nguyễn Trãi”,
        “province_id”: 101,
        “province_name”: “Hà Nội”
    },
    {
        “_id”: 61950,
        “commune_id”: 1011119,
        “commune_name”: “Phường Thanh Xuân Nam”,
        “district_id”: 10111,
        “district_name”: “Quận Thanh Xuân”,
        “lng_lat”: {
            “lng”: 105.79753067,
            “lat”: 20.98729314
        },
        “name_en”: “509 nguyen trai”,
        “name_vn”: “509 Nguyễn Trãi”,
        “province_id”: 101,
        “province_name”: “Hà Nội”
    },
    {
        “_id”: 61951,
        “commune_id”: 1011119,
        “commune_name”: “Phường Thanh Xuân Nam”,
        “district_id”: 10111,
        “district_name”: “Quận Thanh Xuân”,
        “lng_lat”: {
            “lng”: 105.79747463,
            “lat”: 20.9872535
        },
        “name_en”: “513 nguyen trai”,
        “name_vn”: “513 Nguyễn Trãi”,
        “province_id”: 101,
        “province_name”: “Hà Nội”
    },
    {
        “_id”: 61952,
        “commune_id”: 1011119,
        “commune_name”: “Phường Thanh Xuân Nam”,
        “district_id”: 10111,
        “district_name”: “Quận Thanh Xuân”,
        “lng_lat”: {
            “lng”: 105.79719286,
            “lat”: 20.98705421
        },
        “name_en”: “521k nguyen trai”,
        “name_vn”: “521K Nguyễn Trãi”,
        “province_id”: 101,
        “province_name”: “Hà Nội”
    },
    {
        “_id”: 61953,
        “commune_id”: 1011119,
        “commune_name”: “Phường Thanh Xuân Nam”,
        “district_id”: 10111,
        “district_name”: “Quận Thanh Xuân”,
        “lng_lat”: {
            “lng”: 105.79716033,
            “lat”: 20.9870312
        },
        “name_en”: “521h nguyen trai”,
        “name_vn”: “521H Nguyễn Trãi”,
        “province_id”: 101,
        “province_name”: “Hà Nội”
    }
]
```</p>
